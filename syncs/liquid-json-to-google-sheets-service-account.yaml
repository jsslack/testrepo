model: liquid-json
destination: google-sheets-service-account
config:
  mode: mirror
  mappings:
    - to: json_column
      from: json_column
      type: standard
    - to: liquidity
      type: template
      template: |-
        {%- assign input = row['json_column'] -%}
        {%- assign output = '[]' | parse -%}

        {%- for item in input -%}
          {%- assign new_obj = | json_construct:
            'budgetName',  item.BUDGET_NAME,
            'budgetDate',  item.BUDGET_DATE,
            'budgetCount', item.BUDGET_COUNT
          -%}
          {%- assign output = output | concat: new_obj -%}
        {%- endfor -%}

        {{ output }}
  sheetName: Sheet1
  configVersion: 1
  spreadsheetId: 1Ike-gaELpQOkRyaL9nHmwKfb6xxFrXwf0mYLWuVclK0
  sheetSelection: select
  autoSyncColumns: false
schedule:
  type: manual
schedulePaused: false
