model: liquid-json
destination: google-sheets-service-account
config:
  mode: mirror
  mappings:
    - to: json_column
      from: json_column
      type: standard
    - to: liquidity
      type: template
      template: |-
        {%- assign out = '[]' | parse -%}

        {%- for item in row['json_column'] -%}
          {%- assign mapped = nil | json_construct:
            'budgetName',  item.BUDGET_NAME,
            'budgetDate',  item.BUDGET_DATE,
            'budgetCount', item.BUDGET_COUNT
          -%}
          {%- assign out = out | concat: mapped -%}
        {%- endfor -%}

        {{ out }}
  sheetName: Sheet1
  configVersion: 1
  spreadsheetId: 1Ike-gaELpQOkRyaL9nHmwKfb6xxFrXwf0mYLWuVclK0
  sheetSelection: select
  autoSyncColumns: false
schedule:
  type: manual
schedulePaused: false
